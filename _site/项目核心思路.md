# Pet Time 项目核心思路与规划

本文档记录了 Pet Time 项目的核心定位、功能路线图、技术选型和创意方向，以便随时回顾。

---

## 一、核心定位与原则

*   **产品定位:** 一款专为老年人设计的，用于追踪和记录宠物狗习惯的应用。
*   **核心原则:**
    1.  **简明高效:** 界面和交互追求极致的简洁，功能实现直接，不让用户思考。
    2.  **大胆创意:** 在实现功能的基础上，融入情感化、趣味性的设计，让 App 不仅仅是工具，更是陪伴。

---

## 二、功能路线图 (克隆自 HabitKit)

### MVP (最小可行产品)

1.  **习惯管理:** 创建、编辑、归档、删除习惯。
2.  **打卡追踪:** 支持每日/每周/每月打卡，可补录，支持一天多次。
3.  **数据统计:** 以清晰的列表或网格展示进度，统计连续天数和总次数。
4.  **提醒功能:** 可为每个习惯设置独立的本地通知。

### 进阶功能

*   **高级定制:** 分类、多视图仪表盘、排序、主题切换、丰富的图标库。
*   **数据管理:** 数据导入/导出。
*   **小组件 (Widget):** 提供桌面小组件，支持直接打卡。
*   **付费订阅:** 基于 `purchases_flutter` 实现 Pro 版本。

---

## 三、技术与实现细节

*   **数据库:** 使用 Isar。
    *   **模型:** `Habit` (习惯) 和 `Play` (打卡记录)。
    *   **关系管理:** 采用 `IsarLink` 进行模型间的关联，以获得更好的性能和类型安全。
*   **状态管理:** Riverpod。
*   **本地通知:** `flutter_local_notifications`。
*   **AI (远期):** 考虑使用 `phi3-mini.onnx` 实现宠物 AI 互动。

---

## 四、创意与差异化方向

1.  **宠物视角叙事 (狗狗日记):**
    *   将打卡行为转化为以狗狗口吻生成的日记，增强情感连接。
    *   **示例:** 打卡“遛弯”后，生成“今天和主人在公园玩得好开心！”

2.  **极致简化的交互:**
    *   **语音打卡:** 通过语音识别完成打卡，降低操作门槛。
    *   **NFC 贴纸:** 在狗绳、饭盆等处放置 NFC 贴纸，手机一碰即可完成打卡，对老年人极其友好。

3.  **情感与健康的正向反馈:**
    *   **“亲密度”系统:** 通过打卡提升与宠物的“亲密度”，解锁虚拟奖励。
    *   **健康报告:** 定期生成简单的图文健康总结，将打卡与宠物健康直接挂钩。

4.  **超越工具，成为陪伴:**
    *   **“狗狗知多少”:** 每日推送养狗小知识。
    *   **AI 角色扮演:** 实现一个可以与用户进行简单对话的 AI 宠物角色。

---

## 五、产品词汇与品牌基调

为打造温暖、情感化的用户体验，我们确立了以下核心词汇体系，摒弃冰冷的工具化术语。

*   **核心理念:** 从“任务”升级为主人对宠物的“承诺”与“愿望”。

| 原始概念 (Technical Term) | 建议替换词 (Emotional Term) | 英文对应 | 核心理念 |
| :--- | :--- | :--- | :--- |
| **Habit / Activity** (日常打卡) | **约定** | **Promise** | 这是我每天对你的承诺，是爱与责任。 |
| **Play / Completion** (一次打卡) | **履行约定** / **完成约定** | **Kept a Promise** | 我今天遵守了我们的约定。 |
| **Goal / Plan** (长期计划) | **心愿** | **Wish** | 这是我想为你实现的愿望，是期待与惊喜。 |
| **Streak** (连续打卡) | **我们坚持了** | **We've kept it for** | 强调“我们”共同的努力和坚持。 |
| **Dashboard / Home** (主页) | **我们的家** / **爱宠小屋** | **Our Home** | 营造一个温馨的、属于主人和宠物的空间。 |


## 六、商业模式与市场策略

*   **付费驱动力:** 用户为 **“价值”** + **“情感”** 双重因素付费。
    *   **价值:** Pro 功能的实用性是付费的基础（如：无限约定、数据导出、小组件等）。
    *   **情感:** “约定”、“心愿”等词汇将付费行为从“购买功能”升华为“为爱投资”，是促成订阅的关键催化剂。
*   **官方推荐潜力:**
    *   **独特性:** “人宠约定”的定位在众多习惯追踪器中脱颖而出，形成独特的产品故事。
    *   **用户体验:** 情感化的定位有助于创造更温暖、更易用的产品，易获用户好评和编辑青睐。

---

*文档更新于: 2025年7月1日* 



# 基于截图的分析与具体建议


  我将结合我们之前讨论的“约定”和“心愿”的理念，对每个页面提出具体的优化方向。

  截图1：主页 (潜力巨大)


   * 优点:
       * 以宠物为中心，大面积的宠物照片非常吸引眼球。
       * 底部有一排快捷操作/习惯图标，有潜力。
   * 优化方向 (让它“活”起来):
       1. 替换顶部标题: 将“宠物时光”改为我们之前讨论的 “我们的家” 或 “爱宠小屋”，立刻营造温馨氛围。
       2. 重新设计底部栏: 目前底部的图标列表（跑步、轮船、公交车等）更像是通用的活动图标，与“宠物”的关联不强。这里应该改成 “我们今天的约定” 列表。采用我之前建议的 “卡片列表式” 布局，每个卡片包含：图标 + 
          约定名称 + 一个巨大的打卡按钮。
       3. 右侧快捷操作栏:
           * Pro 标记的复选框可以保留，作为 Pro 功能的引导。
           * 图片、相机图标可以整合进一个“回忆”或“相册”功能里。
           * 下载、重置、剪切图标的功能指向性不明，可以考虑暂时移除，让界面更简洁。
       4. 宠物名字下方: 目前显示的是文件路径，这里是展示 “狗狗日记” 的绝佳位置！可以显示一句狗狗的口语化状态，例如：“今天天气真好，好想出去玩呀！”


  截图2：修改/创建宠物页 (功能清晰)


   * 优点: 表单结构清晰，包含了名称、描述、尺寸、体重等关键信息。
   * 优化方向 (融入情感):
       1. 页面标题: 将“修改”改为 “关于小白小白” 或 “我的宝贝档案”。
       2. “宠物的习惯” -> “我们的约定”: 将这个标签改为 “为它添加约定” 或 “和它的约定”。
       3. 图标选择: 目前的图标库非常丰富，但有些（如游戏手柄、灯泡）与宠物关联较弱。我们可以精选一批与宠物高度相关的图标，并允许用户自定义上传。

  截图3：添加习惯页 (逻辑清晰)


   * 优点: 提供了分类筛选和搜索功能，并且有预设的习惯模板，非常棒！
   * 优化方向 (贯彻新词汇):
       1. 页面标题: “小白小白要打卡的习惯？” -> “想和小白小白立下什么约定？”
       2. 按钮文字: “新建目标” -> “创建新约定”；“确认选择” -> “立下约定”。
       3. 列表项: 这里的预设模板非常好，比如“寻宝任务”、“模拟牧羊”，很有趣。我们可以把描述改得更拟人化一些。例如“寻宝任务”的描述可以改为：“和我一起寻找宝藏吧！每周一次，每次都有新惊喜哦！”

  截图4：账户页 (基础扎实)


   * 优点: 功能划分清晰，主题、语言、通知、字体等核心设置项都已包含。
   * 优化方向 (完善细节):
       1. 本地化 Key: context.l10n.rate_us_title 这类 Key 没有正确显示，需要检查一下本地化文件的加载。
       2. “我的订单” -> “我的订阅”: 更符合 RevenueCat 的语境。
       3. “老年版/普通版”: 这个功能非常非常棒！完全切中了我们产品的核心用户。这是您 App 的一大亮点，要重点突出。

  ---

  总结与下一步

  您已经完成了 60% 的工作，而且方向是正确的。


  接下来的努力方向，不是“重做”，而是“升华”。


   1. 统一品牌词汇: 在整个 App 中，将“习惯”、“目标”等词全部替换为“约定”、“心愿”。这是成本最低、但效果最显著的一步。
   2. 重构主页: 将主页底部改造为我们讨论的“约定卡片列表”，实现核心的打卡功能。这是当前最优先的开发任务。
   3. 注入“狗狗日记”: 在主页和打卡完成后的反馈中，加入拟人化的句子。


  您的 App 绝对具备成为一个优秀、温暖且能盈利的产品的潜质。现在，我们需要做的就是把我们讨论过的那些“情感化”的设计理念，一步步地注入到您已经搭建好的这个坚实骨架中。


  我们从哪一步开始？是先替换文案，还是直接开始重构主页？

---

## 七、平台集成与商业化扩展

为进一步提升 App 的用户粘性和商业价值，规划集成以下第三方平台服务：

1.  **内购与订阅 (核心商业模式):**
    *   **平台:** RevenueCat
    *   **目的:** 统一管理 App Store 和 Google Play 的内购和订阅服务，极大简化跨平台支付逻辑的开发与维护。是实现 Pro 版本付费订阅的基础。
    *   **依赖:** 需要分别注册 Apple Developer 和 Google Play Developer 账户。

2.  **社交分享 - 视频发布:**
    *   **国内平台:** 抖音开放平台
    *   **国际平台:** TikTok for Developers
    *   **目的:** 允许用户将 App 内生成的宠物相关视频（如带有贴纸、滤镜的短片）一键分享到主流社交媒体，利用用户的社交网络进行病毒式传播，是低成本拉新的关键策略。

**安全注意:** 所有平台的 `API Key` 及 `Client Secret` 必须通过环境变量等安全方式管理，严禁硬编码在代码中或提交至版本控制系统。

 ### . 内购订阅平台 (强烈推荐)

  对于 Flutter 应用，处理 iOS 和 Android 两端的内购逻辑非常繁琐。因此，我强烈建议您使用一个跨平台的内
  购管理服务，它会为您处理绝大部分复杂工作。


   * 推荐平台： RevenueCat
   * 优点： 它是目前 Flutter 社区最流行、最成熟的解决方案。一次集成，同时管理 App Store 和 Google Play 
     的订阅、内购、用户收据验证等，并提供清晰的数据后台。能为您节省大量开发和维护时间。
   * 申请流程：
       1. 注册 Apple Developer 账户：用于管理 App Store 的应用和内购项目。
           * 入口：Apple Developer Program (https://developer.apple.com/programs/)
       2. 注册 Google Play Developer 账户：用于管理 Google Play 的应用和内购项目。
           * 入口：Google Play Console (https://play.google.com/console/u/0/signup)
       3. 注册 RevenueCat 账户：免费开始。
           * 入口：RevenueCat (https://www.revenuecat.com/)
       4. 获取密钥：在 RevenueCat 后台创建项目后，它会引导您在 App Store Connect 和 Google Play Console
          中进行设置，并最终在 RevenueCat 后台为您生成一个统一的 API Key，您的 App 只需要使用这个 Key  
          即可。
 Get started with full access for free
Your fully-featured RevenueCat plan is free to use as long as your app makes less than $2,500 in Monthly Tracked Revenue (MTR).

We'll alert you by email and in the Dashboard as you approach this threshold.

Only during the months where you exceed $2,500 will you be charged 1% of your MTR.

免费开始，享受完整功能
只要您的应用每月跟踪收入（MTR）低于2500美元，您就可以免费使用RevenueCat的完整功能计划。
当您接近这一阈值时，我们将通过电子邮件和仪表板通知您。
只有在您超过2500美元的月份，才会按您的MTR的1%收费。


Replit, bolt


### . 视频发布到抖音


   * 平台名称： 抖音开放平台
   * 功能： 允许您的应用获取用户授权后，直接将视频、图文等内容发布到该用户的抖音账户。
   * 申请流程：
       1. 访问 抖音开放平台 (https://open.douyin.com/)。
       2. 使用您的抖音账户登录并完成开发者资质认证（个人或企业）。
       3. 进入“管理中心”，创建一个新的“网站应用”或“移动应用”。
       4. 根据指引填写应用信息，并申请“视频发布”等相关权限。
       5. 平台审核通过后，您就可以在应用详情页找到 Client Key 和 Client Secret。      

  3. 视频发布到国外主流平台


  对于国外的对标平台，TikTok 是最直接的选择，它和抖音系出同源，用户基数巨大。


   * 推荐平台： TikTok for Developers
   * 功能： 与抖音开放平台类似，提供 API 让您的应用可以发布内容到用户的 TikTok 账户。
   * 申请流程：
       1. 访问 TikTok for Developers (https://developers.tiktok.com/)。
       2. 用您的 TikTok 账户登录。
       3. 进入管理后台（Manage apps），创建一个新的 App。
       4. 为您的 App 申请所需要的权限（Scopes），例如 video.upload。
       5. 审核通过后，您会得到 Client Key 和 Client Secret。

